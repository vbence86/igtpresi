function Point(a,b){this.x=a,this.y=b}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(console.log("requestAnimationFrame not supported. Adding shim..."),window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){"object"==typeof exports?module.exports=a():"function"==typeof window.define&&window.define.amd?window.define([],a):window.BezierEasing=a()}(function(){function a(a,i,j,k){function l(a,b){return 1-3*b+3*a}function m(a,b){return 3*b-6*a}function n(a){return 3*a}function o(a,b,c){return((l(b,c)*a+m(b,c))*a+n(b))*a}function p(a,b,c){return 3*l(b,c)*a*a+2*m(b,c)*a+n(b)}function q(c,d){for(var e=0;b>e;++e){var f=p(d,a,j);if(0===f)return d;var g=o(d,a,j)-c;d-=g/f}return d}function r(){for(var b=0;f>b;++b)v[b]=o(b*g,a,j)}function s(b,c,f){var g,h,i=0;do h=c+(f-c)/2,g=o(h,a,j)-b,g>0?f=h:c=h;while(Math.abs(g)>d&&++i<e);return h}function t(b){for(var d=0,e=1,h=f-1;e!=h&&v[e]<=b;++e)d+=g;--e;var i=(b-v[e])/(v[e+1]-v[e]),k=d+i*g,l=p(k,a,j);return l>=c?q(b,k):0===l?k:s(b,d,d+g)}if(4!==arguments.length)throw new Error("BezierEasing requires 4 arguments.");for(var u=0;4>u;++u)if("number"!=typeof arguments[u]||isNaN(arguments[u])||!isFinite(arguments[u]))throw new Error("BezierEasing arguments should be integers.");if(0>a||a>1||0>j||j>1)throw new Error("BezierEasing x values must be in [0, 1] range.");var v=h?new Float32Array(f):new Array(f);(a!=i||j!=k)&&r();var w=function(b){return a===i&&j===k?b:0===b?0:1===b?1:o(t(b),i,k)},x="BezierEasing("+[a,i,j,k]+")";return w.toString=function(){return x},w}var b=4,c=.001,d=1e-7,e=10,f=11,g=1/(f-1),h="function"==typeof Float32Array;return a.css={ease:a(.25,.1,.25,1),linear:a(0,0,1,1),"ease-in":a(.42,0,1,1),"ease-out":a(0,0,.58,1),"ease-in-out":a(.42,0,.58,1)},a}),EasingFunctions={LINEAR:BezierEasing.css.linear,EASE:BezierEasing.css.ease,EASE_IN:BezierEasing.css["ease-in"],EASE_OUT:BezierEasing.css["ease-out"],EASE_IN_OUT:BezierEasing.css["ease-in-out"]},CanvasToolkit={getGridSize:function(a,b,c,d,e){var f=e||{row:0,column:0},g=b*c+(b-1)*f.column,h=a*d+(a-1)*f.row;return{w:g,h:h}},getGridPositions:function(a,b,c,d){for(var e=d||{left:0,right:0,top:0,bottom:0},f=c.w/b,g=f/2+e.left,h=c.h/a,i=h/2+e.top,j=[],k=0;a>k;k++)for(var l=0;b>l;l++)j.push({x:g+l*f,y:i+k*h});return j},linearBezier:function(a,b,c){return a+(b-a)*c},radiansToDegrees:function(a){return a*(180/Math.PI)},degreesToRadians:function(a){return a*(Math.PI/180)},backingScale:function(a){var b=window.devicePixelRatio||1,c=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return b/c},windowToCanvas:function(a,b,c){var d=a.getBoundingClientRect();return{x:(b-d.left)*(a.width/d.width),y:(c-d.top)*(a.height/d.height)}},canvasToWindow:function(a,b,c){var d=a.getBoundingClientRect();return{x:b/(a.width/d.width)+d.left,y:c/(a.height/d.height)+d.top}},canvasToCanvas:function(a,b,c,d){var e=this.canvasToWindow(a,b,c);return this.windowToCanvas(d,e.x,e.y)},pixelsToEms:function(a,b){var c=parseInt(b,10),d=parseInt(getComputedStyle(a).fontSize,10);return c/d+"em"},wiggle:function(a,b){var c=Math.random()*a*b;return b+(Math.random()>.5?c:-c)},lerp:function(a,b,c){var d,e;return d=a.x+(b.x-a.x)*c,e=a.y+(b.y-a.y)*c,{x:d,y:e}},pointDistance:function(a,b){var c=b.x-a.x;c*=c;var d=b.y-a.y;return d*=d,Math.sqrt(c+d)},lineToPointDist:function(a,b,c){var d=Math.abs((b.y-a.y)*c.x-(b.x-a.x)*c.y+b.x*a.y-(b.y-a.x)),e=Math.sqrt(Math.pow(b.y-a.y,2)+Math.pow(b.x-a.x,2));return d/e},pointLineClosest:function(a,b,c){var d={x:c.x-a.x,y:c.y-a.y},e={x:b.x-a.x,y:b.y-a.y},f=Math.pow(e.x,2)+Math.pow(e.y,2),g=d.x*e.x+d.y*e.y,h=g/f;return new Point(a.x+e.x*h,a.y+e.y*h)},pointOfIntersection:function(a,b,c,d){var e=b.x,f=a.x,g=d.x,h=c.x,i=b.y,j=a.y,k=d.y,l=c.y,m=(e-f)*(k-l)-(i-j)*(g-h);if(Math.abs(m)<1e-6)return null;var n=(e*j-i*f)*(g-h)-(e-f)*(g*l-k*h),o=(e*j-i*f)*(k-l)-(i-j)*(g*l-k*h);return new Point(n/m,o/m)},collisionRect:function(a,b){var c=a.x+a.w,d=a.y+a.h,e=b.x+b.w,f=b.y+b.h;return c>=b.x&&a.X<=e&&d>=b.y&&a.y<=f},multiplyProperties:function(a,b){for(var c=0;c<a.length;c++)for(var d in a[c])a[c].hasOwnProperty(d)&&"number"==typeof a[c][d]&&(a[c][d]*=b)},glCreateShader:function(a,b,c){var d=a.createShader(c);if(a.shaderSource(d,b),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw a.getShaderInfoLog(d);return d},glLinkProgram:function(a,b){var c=createShader(b.vshaderSource,a.VERTEX_SHADER),d=createShader(b.fshaderSource,a.FRAGMENT_SHADER);if(a.attachShader(b,c),a.attachShader(b,d),a.linkProgram(b),!a.getProgramParameter(b,a.LINK_STATUS))throw a.getProgramInfoLog(b)},glCreateProgram:function(a,b,c){var d=a.createProgram(),e=this.glCreateShader(a,b,a.VERTEX_SHADER),f=this.glCreateShader(a,c,a.FRAGMENT_SHADER);if(a.attachShader(d,e),a.attachShader(d,f),this.glLinkProgram(a,d),!a.getProgramParameter(d,a.LINK_STATUS))throw a.getProgramInfoLog(d);return d}};